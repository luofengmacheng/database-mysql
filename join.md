## mysql中的连接查询

数据库的连接包括内连接和外连接，其中，外连接又包括左连接、右连接和全连接。实际上，内连接与笛卡尔积加上where条件的结果一样，就不说明了，重点在外连接。连接过程中有个on条件，这个条件说明连接时需要保留哪些结果。下面将以表A和表B进行连接为例，假设表A和表B的笛卡尔积的结果集为C，满足on条件的结果集为D。

### 1 左连接

左连接使用lef join。例如：

```
select * from A left join B on A.col1=B.col2;
```

以上的SQL语句将A和B进行左连接，将表A中的记录分成两个部分：B中存在满足on条件的记录，B中不存在满足on条件的记录。

那么，left join就是A中与B中满足on条件的记录以及A中不存在满足on条件的记录(此时，表B的部分置为NULL)。

### 2 右连接

右连接与左连接类似，表A和表B的left join就是B中与A中满足on条件的记录以及B中不满足on条件的记录(同样地，表A的部分置为NULL)。

而且，A left join B等价于B right join A。

### 3 全连接

不是所有的系统都支持全连接，而且支持的程度可能也不一样。例如，mysql中支持full join，但是，不能添加on条件，结果集就跟笛卡尔积一样了。

### 3 多表连接

当然，使用多个表进行连接也是可以的。

```
select * from A left join B on A.col1=B.col2 left join C on B.col2=C.col3;
```

以上的SQL语句将A、B、C三个表进行左连接。

### 4 连接查询的使用场景

连接查询通常用来将多个表进行连接，返回合适的字段。

例如，当页面上的表中的结果是由三个表的字段值构成，那么，显示这个表的内容可以用两种方式：在程序中控制，或者创建一个该表的视图。此时，创建这个该表的视图就会用到连接查询。这样之后，就可以直接将该视图当作一个表使用，简化了代码。